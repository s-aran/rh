# rhh

ハッシュ値の計算と検証

## 対応するアルゴリズム

* MD5
* SHA1
* SHA256

## 使い方

### 標準入力からハッシュ値を計算

```sh
./rhh
```

* 入力を決定するにはEOFを送信してください。
  * Windows (例: コマンドプロンプト, PowerShell, nushell, …): EOFはCtrl + Z を押下
  * macOS, Linux, Unix (例: sh, bash, csh, zsh, fish, …): EOFはCtrl + D を押下

### ファイルからハッシュ値を計算

```sh
./rhh FILE1 FILE2 …
```

* FILEはひとつでも指定可能です。

### ファイルを検証

```sh
./rhh -c CHECKSUM [--ignore|--ignore-missing]
```

* CHECKSUMはひとつのみ指定してください
* `OK` が表示されたら検証成功です。`FAILED` はハッシュ値が不一致です。
* --ignore または --ignore-missing オプションを指定した場合，CHECKSUM に記載された存在しないファイルを無視します。

### ハッシュDBを初期化

```sh
./rhh --init-db
```

* カレントディレクトリーを再帰的に検索して見つけたファイルのハッシュ値をハッシュDBに格納します。
* ハッシュDBがすでに存在する場合，DBファイルを削除して再生成します。
  
### ハッシュDBを更新

```sh
./rhh --update-db
```

* カレントディレクトリーを再帰的に検索して見つけたファイルのハッシュ値をハッシュDBに格納します。
* ハッシュDBが存在しない場合，コマンドは失敗します。
* ハッシュDBに存在しないファイルはハッシュDBに格納されます。
* ハッシュDBに存在するかつファイルシステム上に存在するファイルはハッシュ値を再計算してDBに格納されます。
* ハッシュDBに存在するがファイルシステム上に存在しないファイルは無視されます。

### ハッシュDBを検索

```sh
./rhh --use-db FILE1 FILE2 …
```

* FILEはひとつでも指定可能です。

### その他

#### バージョン情報

```sh
./rhh --version
```

#### ヘルプ

```sh
./rhh --help
```
